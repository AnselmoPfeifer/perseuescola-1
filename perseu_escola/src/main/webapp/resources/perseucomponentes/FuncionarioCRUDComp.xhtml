<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<head>
<title>Cadastro de Funcionario</title>
</head>
<body>
	<composite:interface>
		<composite:attribute name="funcionario"
			type="com.htcursos.model.entity.Funcionario" />

	</composite:interface>
	<composite:implementation>




		<h:form id="frmFuncionario" style="margin:auto;">

			<p:growl id="mensagens" />
			<p:tabView id="tabView">
				<p:tab title="Cadastro do Funcionario" id="cadFuncionarios">



					<p:panelGrid columns="1" style="margin:auto;">
						<p:panel header="Dados do Funcionario" style="margin:auto;">


							<p:panelGrid columns="2" id="panelFuncionario">
								<h:outputLabel for="id" value="Id:" />
								<p:inputText readonly="true" size="5" id="id" disabled="true"
									value="#{funcionarioController.funcionario.id}">
									<f:converter converterId="javax.faces.Integer" />
								</p:inputText>

								<h:outputLabel value="Unidade:" />
								<p:selectOneMenu id="unidade"
									value="#{funcionarioController.funcionario.unidade}"
									converter="#{unidadeConverter}">
									<f:selectItem itemLabel="Selecione" itemValue="0"
										noSelectionOption="true" />
									<f:selectItems value="#{unidadeController.unidadeList}"
										var="unidade" itemLabel="#{unidade.nome}"
										itemValue="#{unidade}" />
								</p:selectOneMenu>

								<!-- Informações pessoais -->

								<h:outputLabel for="nome" value="Nome:" />
								<p:inputText id="nome"
									value="#{funcionarioController.funcionario.nome}" size="50">
								</p:inputText>

								<h:outputLabel value="Sexo:" />
								<p:selectOneMenu id="tipoSexoEnum"
									value="#{funcionarioController.funcionario.sexo}">
									<f:selectItems value="#{funcionarioController.tipoSexoValues}"
										var="s" itemValue="#{s}" itemLabel="#{s.label}" />
								</p:selectOneMenu>

								<h:outputLabel for="email" value="E-mail:" />
								<p:inputText id="email"
									value="#{funcionarioController.funcionario.email}" size="50">
								</p:inputText>

								<h:outputLabel value="Data Nasc:" size="4" />
								<p:calendar
									value="#{funcionarioController.funcionario.dataNascimento}"
									id="dataNascimento" pattern="dd/MM/yyyy" locale="pt_BR" />


								<h:outputLabel for="cidadeNasc" value="Cidade Nascimento:" />
								<p:inputText id="cidadeNasc"
									value="#{funcionarioController.funcionario.cidadeNascimento}"
									size="50">

								</p:inputText>

								<h:outputLabel for="ufNasc" value="UF Nascimento:" />
								<p:inputText
									value="#{funcionarioController.funcionario.ufNascimento}" />

								<h:outputLabel value="Grau de instrução " />
								<p:selectOneMenu id="grauInstrucao"
									value="#{funcionarioController.funcionario.grauInstrucao}">
									<f:selectItems
										value="#{funcionarioController.grauInstrucaoValues}" var="g"
										itemValue="#{g}" itemLabel="#{g.label}" />
								</p:selectOneMenu>

								<h:outputLabel for="nomePai" value="Nome Pai:" />
								<p:inputText id="nomePai"
									value="#{funcionarioController.funcionario.nomePai}" size="50">
								</p:inputText>

								<h:outputLabel for="nomeMae" value="Nome Mãe:" />
								<p:inputText id="nomeMae"
									value="#{funcionarioController.funcionario.nomeMae}" size="50">
								</p:inputText>

								<h:outputLabel value="Casado:" />
								<p:selectOneRadio id="selectRadioCasado"
									value="#{funcionarioController.funcionario.casado}">
									<f:selectItem itemLabel="SIM" itemValue="true" />
									<f:selectItem itemLabel="NÃO" itemValue="false" />
								</p:selectOneRadio>

								<h:outputLabel for="nomeConjugue" value="Nome do cônjuge:"
									id="outLabelNomeConjugue" />
								<p:inputText id="nomeConjugue"
									value="#{funcionarioController.funcionario.nomeConjugue}"
									size="50">
								</p:inputText>

								<h:outputLabel value="Residência própria" />
								<p:selectOneRadio id="selectRadioResidenciaPropria"
									value="#{funcionarioController.funcionario.residenciaPropria}">
									<f:selectItem itemLabel="SIM" itemValue="true" />
									<f:selectItem itemLabel="NÃO" itemValue="false" />
								</p:selectOneRadio>

								<h:outputLabel value="Imóvel adiquirido pelo FGTS" />
								<p:selectOneRadio id="selectRadioImovelAdquiridoFGTS"
									value="#{funcionarioController.funcionario.imovelAdquiridoFGTS}">
									<f:selectItem itemLabel="SIM" itemValue="true" />
									<f:selectItem itemLabel="NÃO" itemValue="false" />
								</p:selectOneRadio>

								<!-- 								<h:outputLabel value="Residência própria:" /> -->
								<!-- 								<p:selectOneRadio id="selectRadioResidenciaPropria" -->
								<!-- 									value="#{funcionarioController.funcionario.residenciaPropria}"> -->
								<!-- 									<f:selectItem itemLabel="SIM" itemValue="true" /> -->
								<!-- 									<f:selectItem itemLabel="NÃO" itemValue="false" /> -->
								<!-- 								</p:selectOneRadio> -->

								<!-- 								<h:outputLabel value="Imóvel adiquirido do FGTS:" /> -->
								<!-- 								<p:selectOneRadio id="selecImovelFgts" -->
								<!-- 									value="#{funcionarioController.funcionario.imovelAdquiridoFGTS}"> -->
								<!-- 									<f:selectItem itemLabel="SIM" itemValue="true" /> -->
								<!-- 									<f:selectItem itemLabel="NÃO" itemValue="false" /> -->
								<!-- 								</p:selectOneRadio> -->

								<!-- Documentos Pessoais -->

								<h:outputLabel id="cpfLabel" for="pfCpf" value="CPF: " />
								<p:inputMask id="pfCpf" mask="999.999.999-99" required="true"
									requiredMessage="É Necessário Informar o CPF"
									onblur="validarCPF(this.value)"
									onkeypress="mascara(this, cpf_mask)"
									value="#{funcionarioController.funcionario.cpf}" size="14">

								</p:inputMask>

								<h:outputLabel id="rgLabel" for="pfRg" value="Rg:" />
								<p:inputText id="pfRg" type="number"
									value="#{funcionarioController.funcionario.numeroRG}" size="18">

								</p:inputText>

								<h:outputLabel for="orgaoEmissorRG" value="Órgao Emissor RG" />
								<p:inputText id="orgaoEmissorRG"
									value="#{funcionarioController.funcionario.orgaoEmissorRG}"
									size="50">
								</p:inputText>

								<h:outputLabel value="Data Emissão RG" size="4" />
								<p:calendar value="#{funcionarioController.funcionario.dataRG}"
									id="popupButtonCal" pattern="dd/MM/yyyy" locale="pt_BR" />

								<!--   Carteira de Trabalho -->
								<h:outputLabel for="numeroCT" value="Número Carteira Trabalho:" />
								<p:inputText id="numeroCT"
									value="#{funcionarioController.funcionario.numeroCarteiraTrabalho}"
									size="50">
								</p:inputText>

								<h:outputLabel for="serieCT" value="Série Carteira Trabalho:" />
								<p:inputText id="serieCT"
									value="#{funcionarioController.funcionario.serieCarteiraTrabalho}"
									size="50">
								</p:inputText>

								<h:outputLabel for="numeroPis" value="Númro do PIS:" />
								<p:inputText id="numeroPis"
									value="#{funcionarioController.funcionario.numeroPis}"
									size="50">
								</p:inputText>


								<!--  Titulo Eleitor -->

								<h:outputLabel for="numeroTituloEleitor"
									value="Número Titulo Eleitor:" />
								<p:inputText id="numeroTituloEleitor"
									value="#{funcionarioController.funcionario.numeroTituloEleitor}"
									size="50">
								</p:inputText>


								<h:outputLabel for="zonaTituloEleitor"
									value="Zona Título Eleitor:" />
								<p:inputText id="zonaTituloEleitor"
									value="#{funcionarioController.funcionario.zonaTituloEleitor}"
									size="50">
								</p:inputText>

								<h:outputLabel for="secaoTituloEleitor"
									value="Seção Título Eleitor:" />
								<p:inputText id="secaoTituloEleitor"
									value="#{funcionarioController.funcionario.secaoTituloEleitor}"
									size="50">
								</p:inputText>

								<h:outputLabel for="ufTituloEleitor"
									value="UF Título do Eleitor:" />
								<p:inputText
									value="#{funcionarioController.funcionario.ufTituloEleitor}" />

								<!--  Reservista  -->
								<h:outputLabel for="numeroCertificadoReservista"
									value="Número Certificado Reservista:" />
								<p:inputText id="numeroCertificadoReservista"
									value="#{funcionarioController.funcionario.numeroCertificadoReservista}"
									size="50">
								</p:inputText>

								<h:outputLabel for="serieCertificadoReservista"
									value="Série Certificado Reservista:" />
								<p:inputText id="serieCertificadoReservista"
									value="#{funcionarioController.funcionario.serieCertificadoReservista}"
									size="50">
								</p:inputText>

								<h:outputLabel for="categoriaCertificadoReservista"
									value="Cetegoria Certificado Reservista:" />
								<p:inputText id="categoriaCertificadoReservista"
									value="#{funcionarioController.funcionario.categoriaCertificadoReservista}"
									size="50">
								</p:inputText>

								<!-- CNH -->

								<h:outputLabel for="numeroCNH" value="numero do CNH:" />
								<p:inputText id="numeroCNH"
									value="#{funcionarioController.funcionario.numeroCNH}"
									size="50">
								</p:inputText>

								<h:outputLabel for="categoriaCNH" value="categoria do CNH:" />
								<p:inputText id="categoriaCNH"
									value="#{funcionarioController.funcionario.categoriaCNH}"
									size="50">
								</p:inputText>

								<h:outputLabel value="Data de vencimento do CNH" size="4" />
								<p:calendar
									value="#{funcionarioController.funcionario.dataVencimentoCNH}"
									id="calendarDataVenciCnh" pattern="dd/MM/yyyy" locale="pt_BR" />
							</p:panelGrid>

						</p:panel>



						<p:panel header="Dados de Endereco" style="margin:auto;">

							<h:panelGrid id="pnCEP" columns="3">
								<h:outputText value="CEP: " />
								<p:inputMask mask="99999-999"
									value="#{funcionarioController.funcionario.endereco.cep}" />

								<p:commandButton value="Pesquisar CEP" icon="ui-icon-pencil"
									action="#{funcionarioController.encontraCEP}"
									update="pnEndereco" process="@this pnCEP" />
							</h:panelGrid>

							<br />
							<p:panelGrid id="pnEndereco" columns="2">




								<h:outputLabel value="Tipo Logradouro (Ex: Rua, Avenida):  " />
								<p:inputText size="30"
									value="#{funcionarioController.funcionario.endereco.tipo_logradouro}" />

								<h:outputLabel value="Logradouro: " />
								<p:inputText size="30"
									value="#{funcionarioController.funcionario.endereco.logradouro}" />

								<h:outputLabel value="Número: " />

								<p:inputText size="30"
									value="#{funcionarioController.funcionario.endereco.numero}" />

								<h:outputLabel value="Bairro: " />
								<p:inputText size="30"
									value="#{funcionarioController.funcionario.endereco.bairro}" />

								<h:outputLabel value="Cidade: " />
								<p:inputText size="30"
									value="#{funcionarioController.funcionario.endereco.cidade}" />

								<h:outputLabel value="UF: " />
								<p:inputText size="30"
									value="#{funcionarioController.funcionario.endereco.estado}" />

								<h:outputLabel value="Complemento " />
								<p:inputText size="30"
									value="#{funcionarioController.funcionario.endereco.complemento}" />

							</p:panelGrid>

							<br />

						</p:panel>

						<p:panel header="Dados Empregatícios" style="margin:auto;">

							<br />

							<p:panelGrid id="pgDadosEmpregaticios" columns="2">

								<h:outputLabel value="Cargo:" />
								<p:inputText size="30"
									value="#{funcionarioController.funcionario.cargo}" />


								<h:outputLabel value="Função " />
								<p:inputText size="30"
									value="#{funcionarioController.funcionario.funcao}" />

								<h:outputLabel value="Dias de experiência: " />
								<p:selectOneMenu id="diasExperiencia"
									value="#{funcionarioController.funcionario.diasExperiencia}">
									<f:selectItems
										value="#{funcionarioController.diasExperienciaValues}" var="d"
										itemValue="#{d}" itemLabel="#{d.label}" />
								</p:selectOneMenu>

								<h:outputLabel value="Admissao por contrato de experiência" />
								<p:selectOneRadio id="selectRadioAdmissaoPorContratoExperiencia"
									value="#{funcionarioController.funcionario.admissaoPorContratoExperiencia}">
									<f:selectItem itemLabel="SIM" itemValue="true" />
									<f:selectItem itemLabel="NÃO" itemValue="false" />
								</p:selectOneRadio>
								
								<h:outputLabel value="Class. Bra. de Ocupação" />
								<p:inputText size="30" type="number"
									value="#{funcionarioController.funcionario.cbo}" />

								<h:outputLabel value="Data de Adimissão:" size="4" />
								<p:calendar
									value="#{funcionarioController.funcionario.dataAdmimissao}"
									id="dataAdmimissao" pattern="dd/MM/yyyy" locale="pt_BR" />

								<h:outputLabel value="Data do Exame de Adimissão:" size="4" />
								<p:calendar
									value="#{funcionarioController.funcionario.dataExameMedicoAdmissao}"
									id="dataExameMedicoAdmissao" pattern="dd/MM/yyyy"
									locale="pt_BR" />

							</p:panelGrid>

							<br />

						</p:panel>

					</p:panelGrid>

					<br />

					<div class="botoes" align="center" style="margin: auto;">

						<p:commandButton value="Salvar"
							action="#{funcionarioController.salvar}" update="@form">
						</p:commandButton>

						<p:commandButton value="Cancelar"
							action="#{funcionarioController.cancelar}" update="@form"
							process="@this" />

					</div>

					<p:dialog header="Selected Dates" widgetVar="dialog"
						showEffect="fade" hideEffect="fade">
						<h:outputText
							value="#{funcionarioController.funcionario.dataNascimento}"
							id="pfDatanascimento">
						</h:outputText>
					</p:dialog>


				</p:tab>

				<p:tab title="Lista de Funcionarios" id="lista_funcionarios">

					<p:dataTable id="dtFuncionarios" var="c" rows="13"
						paginatorAlwaysVisible="false"
						value="#{funcionarioController.funcionarioList}" paginator="true">

						<p:column sortBy="#{c.id}" headerText="ID" style="width: 10%">
							<h:outputText value="#{c.id}" />
						</p:column>

						<p:column headerText="Nome" width="100" filterBy="#{c.nome}">
							<h:outputText value="#{c.nome}" />
						</p:column>

						<p:column headerText="CPF" width="100">
							<h:outputText value="#{c.cpf}" />
						</p:column>

						<p:column headerText="Data Nasc." width="100">
							<h:outputText value="#{c.dataNascimento}" />
						</p:column>

						<p:column headerText="Ações" width="60">

							<!-- 							<p:commandButton icon="ui-icon-arrow-1-e" alt="Selecionar"  -->
							<!-- 								title="Selecionar funcionario"  oncomplete="PrimeFaces.ab({formId:$(this).closest('form').attr('id'),source:this.id,process:'@all',update:myTable.id});return false;" >  -->
							<!-- 								<f:setPropertyActionListener target="#{cc.attrs.funcionario}" -->
							<!-- 									value="#{c}" /> -->
							<!-- 							</p:commandButton> -->


							<p:commandButton icon="ui-icon-trash" alt="Excluir funcionario"
								title="Excluir funcionario" oncomplete="confirmacao.show()"
								process="@this">
								<f:setPropertyActionListener
									target="#{funcionarioController.funcionarioExcluir}"
									value="#{c}" />
							</p:commandButton>

							<p:commandButton icon="ui-icon-pencil" alt="Editar funcionario"
								title="Editar funcionario"
								action="#{funcionarioController.editar(c)}" process="@this"
								update="@form">
							</p:commandButton>

						</p:column>
					</p:dataTable>
				</p:tab>
			</p:tabView>
			<p:confirmDialog
				message="Deseja realmente remover este Funcionario ?"
				position="center" header="Aviso" id="confirmacaoId" severity="alert"
				widgetVar="confirmacao" closable="true" appendToBody="false">

				<p:commandButton id="btnSim" value="Sim"
					actionListener="#{funcionarioController.excluir}" process="@this"
					oncomplete="confirmacao.hide();" update="@form" />
				<p:commandButton id="btnNao" value="Não"
					onclick="confirmacao.hide();" />
			</p:confirmDialog>
		</h:form>


	</composite:implementation>

</body>
</html>